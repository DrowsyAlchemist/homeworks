using System;

namespace Lessons
{
    class Lessons
    {
        public static void Main()
        {
            PrintBar(50, '#');
            Console.ReadLine();
        }

        public static void PrintBar(
            int percent, char symbol,
            ConsoleColor barColor = ConsoleColor.Green,
            int cursorStartPositionLeft = 0,
            int cursorStartPositionTop = 0)
        {
            int maxPercent = 100;

            if (percent >= 0 && percent <= maxPercent)
            {
                string border = string.Empty;

                for (int i = 0; i < maxPercent+2; i++)
                    border += "=";

                Console.SetCursorPosition(cursorStartPositionLeft, cursorStartPositionTop);
                Console.Write(border + "\n[");
                ConsoleColor defaultColor = Console.BackgroundColor;
                Console.BackgroundColor = barColor;

                for (int i = 0; i < percent; i++)
                    Console.Write(symbol);

                Console.BackgroundColor = defaultColor;

                for (int i = percent; i < maxPercent; i++)
                    Console.Write("_");

                Console.Write("]\n" + border);
            }
            else
            {
                throw new Exception("Процент должен быть от 0 до 100");
            }
        }
    }
}
